<Label>:
    color: 1, 1, 1, 1
    font_size: "18sp"

<Button>:
    background_normal: ""
    background_color: 0.2, 0.2, 0.2, 1
    color: 1, 1, 1, 1
    font_size: "16sp"
    size_hint_y: None
    height: "48dp"

<TextInput>:
    background_color: 0.1, 0.1, 0.1, 1
    foreground_color: 1, 1, 1, 1
    cursor_color: 1, 1, 1, 1
    font_size: "16sp"
    size_hint_y: None
    height: "40dp"
    padding: 10

ScreenManager:
    HomeScreen:
    DataEntryScreen:
    MeasurementInputScreen:

<HomeScreen>:
    name: "home"
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 20

        Label:
            text: "Measurement App"
            font_size: "24sp"
            size_hint_y: None
            height: "48dp"

        Button:
            text: "Enter Measurement"
            on_press: app.root.current = "data_entry"

        Button:
            text: "Export Data to CSV"
            on_press: app.export_csv()

        Button:
            text: "View Data"
            on_press: app.root.current = "view_data"

        Button:
            text: "Plot Data"
            on_press: app.root.current = "plot_screen"

        Button:
            text: "Delete All Data"
            background_color: 0.6, 0.1, 0.1, 1
            on_press: app.show_delete_confirmation()


<DataEntryScreen>:
    name: "data_entry"
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10

        Label:
            text: "Select Body Region"
            font_size: "15sp"
            size_hint_y: None
            height: "40dp"

        GridLayout:
            cols: 3
            rows: 2
            spacing: 10
            size_hint_y: 1

            Button:
                text: "Upper Left"
                background_color: 0.267, 0.005, 0.329, 1
                on_press: root.open_input_screen("UL")
            Button:
                text: "Head"
                background_color: 0.283, 0.141, 0.458, 1
                on_press: root.open_input_screen("Head")
            Button:
                text: "Upper Right"
                background_color: 0.254, 0.265, 0.530, 1
                on_press: root.open_input_screen("UR")
            Button:
                text: "Lower Left"
                background_color: 0.207, 0.372, 0.553, 1
                on_press: root.open_input_screen("LL")
            Button:
                text: "Axial"
                background_color: 0.164, 0.471, 0.558, 1
                on_press: root.open_input_screen("Axial")
            Button:
                text: "Lower Right"
                background_color: 0.128, 0.566, 0.550, 1
                on_press: root.open_input_screen("LR")

        Button:
            text: "Back to Start"
            size_hint_y: None
            height: "48dp"
            on_press: app.root.current = "home"

<MeasurementInputScreen>:
    name: "input_screen"
    selected_section: ""
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10

        Label:
            id: section_label
            text: "Enter measurement for ..."
            font_size: "20sp"
            size_hint_y: None
            height: "40dp"

        TextInput:
            id: input_measurement
            hint_text: "Enter value (0â€“10)"
            input_filter: "float"

        Button:
            text: "Save Measurement"
            on_press: root.save_measurement()

        Label:
            id: status_label
            text: ""
            font_size: "14sp"
            size_hint_y: None
            height: "30dp"

        Button:
            text: "Back"
            on_press: app.root.current = "data_entry"

<ViewDataScreen>:
    name: "view_data"
    BoxLayout:
        orientation: "vertical"
        padding: 10
        spacing: 10

        Label:
            text: "Saved Measurements"
            font_size: "20sp"
            size_hint_y: None
            height: "40dp"

        ScrollView:
            GridLayout:
                id: data_table
                cols: 3
                size_hint_y: None
                height: self.minimum_height
                row_default_height: "28dp"
                row_force_default: True
                padding: [5, 5]

        Button:
            text: "Back to Home"
            size_hint_y: None
            height: "48dp"
            on_press: app.root.current = "home"

<PlotScreen>:
    name: "plot_screen"
    BoxLayout:
        orientation: "vertical"
        padding: 10
        spacing: 10

        Label:
            text: "Pain Over Time"
            font_size: "20sp"
            size_hint_y: None
            height: "40dp"

        BoxLayout:
            id: plot_container

        Button:
            text: "Back to Home"
            size_hint_y: None
            height: "48dp"
            on_press: app.root.current = "home"
